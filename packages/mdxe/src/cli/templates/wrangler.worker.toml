# Cloudflare Workers configuration for mdxe
# Generated by: mdxe publish --worker

name = "{{name}}"
main = ".mdxe/worker.js"
compatibility_date = "2024-01-01"

# Environment configuration
[env.production]
workers_dev = true

[env.staging]
workers_dev = true

# Build configuration
[build]
command = "pnpm build"
watch_dirs = ["content", "src"]

# Environment variables
[vars]
NODE_ENV = "production"
NEXT_PUBLIC_ENV = "production"

# KV Namespaces (optional - uncomment to enable caching)
# [[kv_namespaces]]
# binding = "CACHE"
# id = "your-kv-namespace-id"
# preview_id = "your-preview-kv-namespace-id"

# R2 Buckets (optional - uncomment for file storage)
# [[r2_buckets]]
# binding = "BUCKET"
# bucket_name = "{{name}}-bucket"
# preview_bucket_name = "{{name}}-preview"

# D1 Database (optional - uncomment for SQLite database)
# [[d1_databases]]
# binding = "DB"
# database_name = "{{name}}-db"
# database_id = "your-database-id"

# Analytics Engine (optional - uncomment for analytics)
# [[analytics_engine_datasets]]
# binding = "ANALYTICS"

# Durable Objects (optional - uncomment for stateful objects)
# [[durable_objects.bindings]]
# name = "COUNTER"
# class_name = "Counter"
# script_name = "{{name}}"

# Routes (optional - custom domain routing)
# [[routes]]
# pattern = "example.com/*"
# zone_name = "example.com"

# Limits and quotas
[limits]
cpu_ms = 50

# Observability
[observability]
enabled = true
head_sampling_rate = 1
