# Cloudflare Worker Assets configuration for mdxe
# Generated by: mdxe publish --assets

name = "{{name}}-assets"
main = ".mdxe/assets-worker.js"
compatibility_date = "2024-01-01"

# Environment configuration
[env.production]
workers_dev = true

[env.staging]
workers_dev = true

# Worker Assets configuration
[assets]
directory = "./.mdxe/assets"
binding = "ASSETS"

# Asset routing
[[routes]]
pattern = "/*"

# Environment variables
[vars]
ASSET_CACHE_TTL = "3600"
ENABLE_COMPRESSION = "true"

# KV namespace for asset metadata (optional)
# [[kv_namespaces]]
# binding = "METADATA"
# id = "your-metadata-kv-id"
# preview_id = "your-preview-metadata-kv-id"

# R2 bucket for large assets (optional - Worker Assets is preferred for MDX)
# [[r2_buckets]]
# binding = "LARGE_ASSETS"
# bucket_name = "{{name}}-large-assets"
# preview_bucket_name = "{{name}}-preview-assets"

# Custom domains (optional)
# [[routes]]
# pattern = "assets.example.com/*"
# zone_name = "example.com"

# Limits
[limits]
cpu_ms = 10

# Observability
[observability]
enabled = true
head_sampling_rate = 1
